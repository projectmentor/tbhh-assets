/* tbhh-extended.core.js - Minified 2025-08-29_002750 */
window.tbhhExtendedCore=window.tbhhExtendedCore||{},window.tbhhExtendedCore.setupAgentBypass=function(e){var o,n;if("true"===(o="agent_bypass",(n=document.cookie.match(new RegExp("(^| )"+o+"=([^;]+)")))?n[2]:null)){console.log("‚úÖ Agent bypass cookie detected. Suppressing registration popup.");var t=setInterval(function(){if("object"==typeof e&&e.closePop)try{e.closePop(),e.openSignLog=function(){console.log("üö´ Registration popup blocked (agent bypass).")},clearInterval(t)}catch(e){console.warn("Bypass error:",e)}},300);setTimeout(function(){clearInterval(t)},5e3)}},window.tbhhExtendedCore.detectSubdomain=function(){var e=window.location.hostname.split(".");return e.length>2?{isSubdomain:!0,subdomain:e[0]}:{isSubdomain:!1,subdomain:null}},window.tbhhExtendedCore.getBrokerInfo=function(){var e=window.tbhhConfig&&window.tbhhConfig.CDN_BASE?window.tbhhConfig.CDN_BASE:"https://cdn.jsdelivr.net/gh/projectmentor/tbhh-assets@main";return console.log("üîç [TBHH] Using CDN base:",e),console.log("üîç [TBHH] Current hostname:",window.location.hostname),"tampabayhousehunter.com"===window.location.hostname?{name:"David Faith",logo:e+"/brokers/dw/logo.svg"}:"victor"===window.tbhhExtendedCore.detectSubdomain().subdomain?{name:"Victor Crespo",logo:e+"/brokers/fhr/logo.svg"}:{name:"David Faith",logo:e+"/brokers/dw/logo.svg"}},window.tbhhExtendedCore.setupBrokerElements=function(){var e=window.tbhhExtendedCore.detectSubdomain(),o=window.tbhhExtendedCore.getBrokerInfo();window.tbhhBrokerInfo={isSubdomain:e.isSubdomain,subdomain:e.subdomain,name:o.name,logo:o.logo},console.log("‚úÖ [TBHH] Broker info set:",o.name,e.isSubdomain?"(subdomain: "+e.subdomain+")":"(main domain)");var n=e.isSubdomain;function t(){document.querySelectorAll(".company, .broker-name, [data-broker-name], .co-name").forEach(function(e){(e.textContent.includes("Dalton Wade Real Estate Group")||e.textContent.includes("Future Home Realty")||"Dalton Wade"===e.textContent.trim()||"FHR"===e.textContent.trim())&&(e.textContent=o.name)}),n&&document.querySelectorAll(".detail-info, .owner-info, .agent-info").forEach(function(e){e.closest(".subdomain-detail")||(e.style.display="none")})}t(),new MutationObserver(t).observe(document.body,{childList:!0,subtree:!0}),setInterval(t,3e3)},window.tbhhExtendedCore.init=function(e){console.log("‚úÖ TBHH Core initializing...");try{window.tbhhExtendedCore.setupAgentBypass(e)}catch(e){console.warn("tbhhExtendedCore.setupAgentBypass error",e)}try{window.tbhhExtendedCore.setupBrokerElements()}catch(e){console.warn("tbhhExtendedCore.setupBrokerElements error",e)}console.log("‚úÖ TBHH Core initialization complete")},"loading"!==document.readyState?window.tbhhExtendedCore.init(window.siteAppVm):document.addEventListener("DOMContentLoaded",function(){window.tbhhExtendedCore.init(window.siteAppVm)});