/* tbhh-extended.js - Minified 2025-08-24 */
window.tbhhExtended={setupAgentBypass:function(e){if("true"===(e=>{const o=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return o?o[2]:null})("agent_bypass")){console.log("✅ Agent bypass cookie detected. Suppressing registration popup.");const o=setInterval(()=>{if("object"==typeof e&&e.closePop)try{e.closePop(),e.openSignLog=()=>console.log("🚫 Registration popup blocked (agent bypass)."),clearInterval(o)}catch(e){console.warn("Bypass error:",e)}},300);setTimeout(()=>clearInterval(o),5e3)}else console.log("ℹ️ No agent bypass cookie detected.")},setupPhoneReplacement:function(){function e(){const e=document.querySelectorAll(".schedule-agent-info a.phone:not(.replaced)");console.log("Found .schedule-agent-info a.phone elements:",e.length),e.forEach((e,o)=>{console.log(`Phone link ${o} before:`,e.outerHTML);const t=document.createElement("button"),n=e.textContent.replace(/^\+1/,"");t.textContent=n,t.style.fontSize="20px",t.style.fontWeight="bold",t.style.backgroundColor="#23c864",t.style.color="#000000",t.style.border="none",t.style.padding="8px 16px",t.style.cursor="pointer",t.style.borderRadius="4px",t.style.display="block",t.style.margin="10px auto",t.style.width="100%",t.style.marginLeft="-30px",t.style.marginRight="-30px",t.style.boxSizing="border-box";const l=e.closest(".schedule-agent-info");l?(e.parentNode.removeChild(e),l.appendChild(t),t.classList.add("replaced"),console.log(`Phone link ${o} after:`,t.outerHTML)):console.log(`Phone link ${o} error: .schedule-agent-info not found`)})}if(console.log("Phone link replacement loaded via CDN"),window.location.href.startsWith("https://tampabayhousehunter.com/listing-detail/")){document.addEventListener("DOMContentLoaded",function(){e()});let o=!1;new MutationObserver(()=>{o||(o=!0,e(),o=!1)}).observe(document.body,{childList:!0,subtree:!0})}}};