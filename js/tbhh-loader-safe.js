/* tbhh-loader-safe.js - Minified 2025-08-29 */
!function(){var o=/tampabayhousehunter\.com$/.test(window.location.hostname),n=-1!==window.location.href.indexOf("cms.lofty.com");!n&&o?function(){var o="20250828",n=!0,e="https://cdn.jsdelivr.net/gh/projectmentor/tbhh-assets@main";function t(){if(n){var o=Array.prototype.slice.call(arguments);o.unshift("🔍 [TBHH]"),console.log.apply(console,o)}}function i(o,n){console.error("❌ [TBHH] Error"+(n?" in "+n:"")+":",o)}function d(){var o=window.location.hostname.split(".");return o.length>2?{isSubdomain:!0,subdomain:o[0]}:{isSubdomain:!1,subdomain:null}}function r(){return"david.tampabayhousehunter.com"===window.location.hostname?{name:"David",logo:e+"/brand/brokers/david.png"}:"richard"===d().subdomain?{name:"Richard",logo:e+"/brand/brokers/richard.png"}:{name:"Tampa Bay House Hunter",logo:e+"/brand/Logo-512x512.png"}}function a(){try{t("Loading TBHH Core...");var n=document.createElement("script");n.src=e+"/js/min/tbhh-extended.core.min.js?v="+o,n.onload=function(){if(t("Core loaded successfully"),window.tbhhExtendedCore&&"function"==typeof window.tbhhExtendedCore.init)try{var o=d(),n=r();window.tbhhBrokerInfo={isSubdomain:o.isSubdomain,subdomain:o.subdomain,name:n.name,logo:n.logo},window.siteAppVm&&window.tbhhExtendedCore.init(window.siteAppVm),c(),l()}catch(o){i(o,"core initialization")}else i(new Error("TBHH core object not found"),"core initialization")},n.onerror=function(o){i(o||new Error("Failed to load core script"),"script loading")},document.head.appendChild(n)}catch(o){i(o,"core loader")}}function c(){var n=document.createElement("script");n.src=e+"/js/min/tbhh-extended.ui.min.js?v="+o,n.onload=function(){t("UI module loaded"),window.tbhhExtendedUI&&window.tbhhExtendedUI.init&&window.tbhhExtendedUI.init()},n.onerror=function(o){i(o||new Error("Failed to load UI module"))},document.head.appendChild(n)}function l(){var n=document.createElement("link");n.rel="stylesheet",n.href=e+"/css/min/site-global.min.css?v="+o,document.head.appendChild(n);var d=document.createElement("script");d.src=e+"/js/min/site-global.min.js?v="+o,d.onload=function(){t("Site global script loaded")},d.onerror=function(o){i(o||new Error("Failed to load site global script"))},document.head.appendChild(d)}window.tbhhLoader={version:o,debug:n,loadCore:a},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a()}():n?console.log("TBHH Loader: Not executing in editor environment."):console.log("TBHH Loader: Not executing outside of tampabayhousehunter.com domain.")}();